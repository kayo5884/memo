<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>MakeYourWhish</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Corinthia:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="snow">●</div> 

    <header>
        <h1>Make Your Wish?</h1>
    </header>

    <main>
        <P class="subtitle">Name</P>
        <input type="text" id="key">
        <p class="subtitle">Wish List</p>
        <textarea id="memo"></textarea>
        <ul>
            <li id="delete">Delete</li>
            <li id="send">Send</li>
        </ul>
    </main>
    <table id="list">
        <!-- ここに追加データが挿入される -->
    </table>
    <ul>
        <li id="clear">Clear</li>
    </ul>
    <script>
    //1.Save クリックイベント
    $('#send').on('click',function(){
        console.log('send');
        const key = $('#key').val();
        const value = $('#memo').val();
        localStorage.setItem(key, value);
        // 一覧表示に追加
        const html = '<tr><th>'+key+'</th><td>'+value+'</td></tr>'
        $("#list").append(html);
        alert('Your wish has been Accepted!')
    });

      //追加)Delete クリックイベント
    $("#delete").on("click",
    function clearText() {
	var textForm = document.getElementById("key");
    textForm.value = '';
    var textareaForm = document.getElementById("memo");
    textareaForm.value = '';
    console.log('delete');
    });


    //2.Clear クリックイベント
    $("#clear").on("click",function(){
        console.log('clear')
        localStorage.clear();
        $("#list").empty();
    });

    //3.ページ読み込み：保存データ取得表示
    for(let i = 0; i < localStorage.length; i++){
        const key = localStorage.key(i);
        const value = localStorage.getItem(key);
        console.log(value);
        console.log(key);
        // 一覧表示に追加
        const html = '<tr><th>'+key+'</th><td>'+value+'</td></tr>';
        $("#list").append(html);
    }

    </script>
    <footer><small>©︎makeyourwish</small></footer>
</body>
</html>


<!-- セーブを押して保存される
    クリアを押してローカルストレージを消す
    ページを読み込んで取得する -->